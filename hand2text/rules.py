# coding: utf8

STROKE_COUNTS = {
  'あ': 3,
  'い': 2,
  'う': 2,
  'え': 2,
  'お': 3,
  'か': 3,
  'き': 4,
  'く': 1,
  'け': 3,
  'こ': 2,
  'が': 5,
  'ぎ': 6,
  'ぐ': 3,
  'げ': 5,
  'ご': 4,
  'さ': 3,
  'し': 1,
  'す': 2,
  'せ': 3,
  'そ': 1,
  'ざ': 5,
  'じ': 3,
  'ず': 4,
  'ぜ': 5,
  'ぞ': 3,
  'た': 4,
  'ち': 2,
  'つ': 1,
  'て': 1,
  'と': 2,
  'だ': 6,
  'ぢ': 4,
  'づ': 3,
  'で': 3,
  'ど': 4,
  'な': 4,
  'に': 3,
  'ぬ': 2,
  'ね': 2,
  'の': 1,
  'は': 3,
  'ひ': 1,
  'ふ': 4,
  'へ': 1,
  'ほ': 4,
  'ば': 5,
  'び': 3,
  'ぶ': 6,
  'べ': 3,
  'ぼ': 6,
  'ぱ': 4,
  'ぴ': 2,
  'ぷ': 5,
  'ぺ': 2,
  'ぽ': 5,
  'ま': 3,
  'み': 2,
  'む': 3,
  'め': 2,
  'も': 3,
  'や': 3,
  'ゆ': 2,
  'よ': 2,
  'ら': 2,
  'り': 2,
  'る': 1,
  'れ': 2,
  'ろ': 1,
  'わ': 2,
  'を': 3,
  'ん': 1,

  'ア': 2,
  'イ': 2,
  'ウ': 3,
  'エ': 3,
  'オ': 3,
  'カ': 2,
  'キ': 3,
  'ク': 2,
  'ケ': 3,
  'コ': 2,
  'ガ': 4,
  'ギ': 5,
  'グ': 4,
  'ゲ': 5,
  'ゴ': 4,
  'サ': 3,
  'シ': 3,
  'ス': 2,
  'セ': 2,
  'ソ': 2,
  'ザ': 5,
  'ジ': 5,
  'ズ': 4,
  'ゼ': 4,
  'ゾ': 4,
  'タ': 3,
  'チ': 3,
  'ツ': 3,
  'テ': 3,
  'ト': 2,
  'ダ': 5,
  'ヂ': 5,
  'ヅ': 5,
  'デ': 5,
  'ド': 4,
  'ナ': 2,
  'ニ': 2,
  'ヌ': 2,
  'ネ': 4,
  'ノ': 1,
  'ハ': 2,
  'ヒ': 2,
  'フ': 1,
  'ヘ': 1,
  'ホ': 4,
  'バ': 4,
  'ビ': 4,
  'ブ': 3,
  'ベ': 3,
  'ボ': 6,
  'パ': 3,
  'ピ': 3,
  'プ': 2,
  'ペ': 2,
  'ポ': 5,
  'マ': 2,
  'ミ': 3,
  'ム': 2,
  'メ': 2,
  'モ': 3,
  'ヤ': 2,
  'ユ': 2,
  'ヨ': 3,
  'ラ': 2,
  'リ': 2,
  'ル': 2,
  'レ': 1,
  'ロ': 3,
  'ワ': 2,
  'ヲ': 3,
  'ン': 2,
}

TRACK_RULES = {
  'て': [
    lambda htracks, vtracks: htracks[0] == 'RLR',
    ],
  'も': [
    lambda htracks, vtracks: vtracks[2] == 'DU',
    ],
  'わ': [
    lambda htracks, vtracks: htracks[1][-1] == 'L',
    ],
  'り': [
    lambda htracks, vtracks: vtracks[1] == 'UD',
    ],

  'キ': [
    lambda htracks, vtracks: htracks[2] == 'R',
    ],
  'ケ': [
    lambda htracks, vtracks: htracks[0] == 'L',
    lambda htracks, vtracks: htracks[1] == 'R',
    lambda htracks, vtracks: htracks[2] == 'L',
    ],
  'ソ': [
    lambda htracks, vtracks: htracks[0] == 'R',
    ],
  'ト': [
    lambda htracks, vtracks: htracks[0] == 'M',
    ],
  'ヅ': [
    lambda htracks, vtracks: htracks[0] == 'R',
    lambda htracks, vtracks: htracks[1] == 'R',
    lambda htracks, vtracks: htracks[2] == 'L',
    ],
  'ヌ': [
    lambda htracks, vtracks: htracks[0] == 'R',
    lambda htracks, vtracks: htracks[1] == 'L',
    ],

}

INTERSECT_RULES = {
    'ぶ': lambda i: i == 0,
    'ぷ': lambda i: i == 0,
}

MOVE_RULES = {
    'ヌ': [
      lambda hmoves, vmoves: hmoves[0] == 'R',
      ],
}
